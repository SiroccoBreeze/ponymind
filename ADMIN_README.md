# PonyMind 管理后台

## 功能概述

PonyMind 管理后台是一个功能完整的内容管理系统，提供用户管理、内容管理、资源管理等核心功能。

## 主要功能模块

### 1. 仪表板
- 系统概览和统计数据
- 快速访问常用功能

### 2. 用户管理
- 用户列表查看
- 用户权限管理
- 用户状态控制

### 3. 内容管理
- 文章/帖子管理
- 内容审核
- 内容分类和标签

### 4. 事件管理
- 事件创建和编辑
- 事件时间管理
- 事件状态控制

### 5. 资源管理
- 资源文件管理
- 资源分类管理
- 文件上传和存储

### 6. 评论管理
- 评论审核
- 评论内容管理
- 垃圾评论过滤

### 7. 标签管理
- 标签创建和编辑
- 标签使用统计
- 标签关联管理

### 8. 系统设置

#### 8.1 参数配置
- **基本设置**: 站点名称、描述、关键词等基础信息
- **用户设置**: 用户注册、邮箱验证等用户相关配置
- **内容设置**: 发布限制、功能开关、自动关闭等内容管理配置
- **通知设置**: 站内通知、邮件通知等通知功能配置
- **安全设置**: 内容审核、垃圾过滤、文件上传等安全相关配置
- **系统设置**: 维护模式等系统级配置

所有参数以二维表形式展示，包含：
- 参数ID：唯一标识符
- 参数描述：详细说明
- 参数开关/值：可配置的参数值

**数据库存储**: 所有系统参数现在都存储在MongoDB数据库中，支持持久化保存和实时同步。

**初始化脚本**: 首次使用时，可以运行 `node scripts/init-system-parameters.js` 来初始化默认参数。

**功能开关实现**: 
- 用户注册功能开关已完全实现，支持实时控制
- 当关闭注册功能时，导航栏注册按钮消失，注册页面显示关闭提示
- 注册API会返回403错误，阻止新用户注册
- 支持动态切换，无需重启服务

#### 8.2 定时任务
- **任务管理**: 创建、编辑、删除定时任务
- **任务类型**: 支持多种预定义任务类型
  - 清理未使用图片
  - 自动关闭过期问题
  - 清理日志
  - 备份数据库
  - 清理临时文件
  - 更新统计数据
- **执行计划**: 支持Cron表达式配置执行时间
- **任务监控**: 实时查看任务状态和执行结果
- **手动执行**: 支持立即执行任务
- **系统信息**: 显示系统运行状态和资源使用情况

## 技术特性

- **响应式设计**: 支持桌面和移动设备
- **实时更新**: 数据实时同步和状态更新
- **权限控制**: 基于角色的访问控制
- **数据安全**: 安全的API接口和数据传输
- **性能优化**: 高效的数据加载和渲染

## 访问方式

管理后台通过 `/admin` 路径访问，需要管理员权限。

## 系统要求

- Node.js 18+
- MongoDB 4.4+
- Next.js 15+
- React 18+

## 部署说明

1. 安装依赖：`npm install`
2. 配置环境变量
3. 构建项目：`npm run build`
4. 启动服务：`npm start`

## 更新日志

### v1.0.0
- 新增参数配置功能，支持系统参数的统一管理
- 新增定时任务管理功能，支持自动化任务调度
- 优化系统设置模块，提升用户体验
- 重构管理端导航结构，支持子菜单 